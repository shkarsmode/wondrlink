

<form
  [ngClass]="{'is-sending': isSending}"
  (ngSubmit)="onContactFormSubmit()"
  [formGroup]="contactForm">

  <h2 [ngSwitch]="formType">
    <span *ngSwitchCase="'patients'">
      Patient Signup
    </span>
    <span *ngSwitchDefault>
      Contact Details
    </span>
  </h2>

  <label *ngIf="formType === 'patients'">
      Iâ€™m signing up as
  </label>

  <div class="wrap-checkboxes" *ngIf="formType === 'patients'">
    <div
      (click)="chooseSigningUpFor(true)"
      class="checkbox"
      [ngClass]="{'active': isMySelf}">
      Patient
    </div>
    <div
      (click)="chooseSigningUpFor(false)"
      class="checkbox"
      [ngClass]="{'active': !isMySelf}">
      Caregiver
    </div>
  </div>

  <div class="wrap-inputs">
    <!-- < BEFORE BACKK WILL DONE company, now it's organization  -->
    @if(formType === 'drug-developers' || formType === 'ecosystem') {
        <div class="group">
        <label for="company">Organization name</label>
        <input
            autocomplete="organization"
            tabindex="1"
            type="text" required
            placeholder="Company name"
            id="company" name="company"
            formControlName="companyName">
        </div>
    }
    <!-- </ BEFORE BACKK WILL change company, now it's organization  -->
    <div class="group">
      <label for="firstName" >
        {{ formType === 'patients' ? 'Patient' : '' }}  First name
      </label>
      <input
        autocomplete="given-name"
        tabindex="2"
        type="text" required
        placeholder="First"
        id="firstName" name="firstName"
        formControlName="firstName">
    </div>
    <div class="group">
      <label for="lastName">
        {{ formType === 'patients' ? 'Patient' : '' }} Last name
      </label>
      <input
        autocomplete="family-name"
        tabindex="2"
        type="text" required
        placeholder="Last"
        id="lastName" name="family-name"
        formControlName="lastName">
    </div>
    <div class="group">
      <label for="phone">Phone</label>
      <div class="phone-wrap">
        <input
            autocomplete="phone"
            tabindex="3"
            type="tel" required
            placeholder="xxx-xxx-xxxx"
            id="phone" name="phone"
            formControlName="phone"
            [ngStyle]="{'padding-left': telephonePadding + 'px'}">
            <app-country-codes
                (countryCode)="onCodeSelected($event)"
                [currentCountry]="inputCountry"
                [isOpen]="isOpenedPhoneDropdown"
            ></app-country-codes>
      </div>
    </div>
    <div class="group">
      <label for="email">Email</label>
      <input
        autocomplete="on"
        tabindex="4"
        type="text" required
        placeholder="name@example.com"
        id="email" name="email"
        formControlName="email">
    </div>
    <div class="group">
      <label for="city">Location</label>
        <app-input-location-autocomplete
            formControlName="location">
        </app-input-location-autocomplete>
     </div>
  </div>


  <div class="wrap-btn" [ngSwitch]="formType">
    <button
      (click)="onNextStep()"
      *ngSwitchCase="'patients'"
      type="button"
      class="btn-green"
      [disabled]="!this.contactForm.valid" >
      Next
    </button>
    <button
      *ngSwitchDefault
      type="submit"
      class="btn-green"
      [disabled]="!this.contactForm.valid" >
      Submit
    </button>
  </div>

  <mat-spinner *ngIf="isSending"></mat-spinner>
</form>


